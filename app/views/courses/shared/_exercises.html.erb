<!-- Exercices feed -->
<% if @course.exercises.empty? %>
    <div class="">
        Not Yet Exercise, Add your first Exercise
        <%= link_to 'Add Exo', new_course_exercise_path(@course) ,
        class:"ml-4 bg-blue-500 rounded-full px-2 " %>
    </div>
<% else %>
<!-- Exercices feed loop -->
    <% @course.exercises.feed_exercise.each do |exercise| %>
        <div class="border rounded-b-md m-2">
            <%= turbo_frame_tag :exercise_detail do %>
                <%#= link_to(new_exercise_reponse_path(exercise), class: " text-black") do %>
                <%= link_to root_path(), class: " text-black" do %>
                    <div class="bg-gray-200 p-2">
                        <h2 class="font-semibold"><%= exercise.title %></h2>
                    </div>
                <% end %>
            <% end %>

            <!-- Exercices Detail -->
            <%= turbo_frame_tag :exercise_detail do %>
                <div class=" p-2">
                    <p class=""><%= truncate(strip_tags(exercise.content.to_s), length: 100) %></p>
                </div>
            <% end %>
            

            <div class="flex border-t p-2">
<label for="correction-modal" class="flex ml-2 text-md font-semibold modal-button">
    <svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 24 24" width="28" height="28" class="bg-white rounded-md px-1">
        <path d="M22.2,2.163a4.992,4.992,0,0,0-4.1-1.081l-3.822.694A4,4,0,0,0,12,3.065,4,4,0,0,0,9.716,1.776L5.9,1.082A5,5,0,0,0,0,6V16.793a5,5,0,0,0,4.105,4.919l6.286,1.143a9,9,0,0,0,3.218,0L19.9,21.712A5,5,0,0,0,24,16.793V6A4.983,4.983,0,0,0,22.2,2.163ZM11,20.928c-.084-.012-.168-.026-.252-.041L4.463,19.745A3,3,0,0,1,2,16.793V6A3,3,0,0,1,5,3a3.081,3.081,0,0,1,.54.049l3.82.7A2,2,0,0,1,11,5.712Zm11-4.135a3,3,0,0,1-2.463,2.952l-6.285,1.142c-.084.015-.168.029-.252.041V5.712a2,2,0,0,1,1.642-1.968l3.821-.7A3,3,0,0,1,22,6Z"/>
    </svg>
    <span class=" ml-1 mt-1">Corrections</span>
</label>

                <div class="flex ">Traité</div>
                <div class="flex ">corrigés</div>
            </div>
        </div>
    <% end %>
<% end %>




    <!-- Add Exercise -->
    <%# if exercise.completed_by(current_user) %>
    <!-- Feed Exercise unlock correction -->
    <%#= render "courses/shared/completed_exercises", exercise: exercise %>
    <%# else %>
    <!-- Feed New Exercise -->
    <%#= render "courses/shared/new_exercises", exercise: exercise %>
    <%# end %>
